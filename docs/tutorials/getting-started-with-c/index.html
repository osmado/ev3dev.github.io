
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Getting Started with C</title>
    
    <!-- Description content not available -->
    
    <link rel="alternate" type="application/atom+xml" href="/ev3dev.github.io/news/atom.xml" title="Atom feed">
    <link rel="icon" href="/ev3dev.github.io/favicon.ico" />

    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/ev3dev.github.io/stylesheets/bootstrap.css">

    <!-- Custom styles -->
    <link rel="stylesheet" href="/ev3dev.github.io/stylesheets/site-structure.css">
    <link rel="stylesheet" href="/ev3dev.github.io/stylesheets/landing-content.css">

    <!-- Template for search results -->
    <script type="text/html" id="search-result-template">
        <div class="search-result">
            <a data-href="href"><h4 data-content="title"></h4></a>
            <span data-content="breadcrumbs" class="search-result-breadcrumbs"></span>
            <span data-content="author" class="search-result-author"></span><br/>
        </div>
    </script>

    

    
        <!-- Google Analytics excluded: not an official site build -->
    
</head>


<body class="no-jumbotron ">

    <div id="header">
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/ev3dev.github.io/">
                    <img id="brand-logo" src="/ev3dev.github.io/images/ev3dev_logo_white.png" alt="ev3dev logo" />
                </a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav" id="main-nav">
                    <li>
                        <a href="/ev3dev.github.io/docs/getting-started" title="Our Getting Started guide">Start Here</a>
                    </li>
                    <li>
                        <a href="/ev3dev.github.io/download" title="SD card images for ev3dev">Downloads</a>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" title="Documentation on using ev3dev">
                            Documentation
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/ev3dev.github.io/docs/tutorials">Tutorials</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/docs/programming-languages">Programming Languages</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/docs/networking">Networking</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/docs/driver-overview">Hardware Drivers</a>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li>
                                <a href="/ev3dev.github.io/docs">More...</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="/ev3dev.github.io/support" title="Get Help with ev3dev">Support</a>
                    </li>
                    <li>
                        <a href="/ev3dev.github.io/news" title="ev3dev news">News</a>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            Community
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/ev3dev.github.io/contribute" title="How to contribute to ev3dev">Contribute</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/share" title="Share the word on ev3dev with others">Share</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/projects" title="Discover projects that use ev3dev">Project showcase</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- items below float right, so appear in reverse order -->
                <div id="search-container">
                    <form class="navbar-form navbar-right dropdown" onsubmit="return false;">
                        <input type="text" id="search-input" class="form-control" placeholder="Quick nav" autocomplete="off" />
                        <div class="dropdown-menu" id="search-dropdown">
                            <div class="search-results-container" id="search-no-data-warning">
                                <span class="glyphicon glyphicon-alert heading-icon" aria-hidden="true"></span>
                                We were unable to retrieve search data from the
                                server. Make sure that JavaScript is enabled and
                                that nothing is blocking network access.
                            </div>

                            <div class="search-results-container" id="search-results-docs">
                                <h2>In docs</h2>
                                <div data-content="docs-results">
                                    <div class="no-results-note">No results</div>
                                </div>
                            </div>

                            <div class="search-results-container" id="search-results-projects">
                                <h2>In projects</h2>
                                <div data-content="project-results">
                                    <div class="no-results-note">No results</div>
                                </div>
                            </div>

                            <div class="search-results-container" id="search-results-news">
                                <h2>In news</h2>
                                <div data-content="news-results">
                                    <div class="no-results-note">No results</div>
                                </div>
                            </div>

                            <div class="search-results-container" id="search-results-misc">
                                <h2>In other pages</h2>
                                <div data-content="misc-results">
                                    <div class="no-results-note">No results</div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </nav>
</div>

    
    
    <div class="container">
        

<div class="page-header">
    
        <a class="btn btn-primary pull-right" href="https://github.com/ev3dev/ev3dev.github.io/edit/master/docs/tutorials/getting-started-with-c.md"><span class="glyphicon glyphicon-pencil"></span> Edit on Github</a>
    
    <h1>
        Getting Started with C
        <small></small>
    </h1>
</div>
    </div>
    
    
    <div class="container">
    
        <hr />
<div class="nav-dropdown-arrow">
    <div>
        

<ol class="breadcrumb" vocab="http://schema.org" typeof="BreadcrumbList">
    
    

    
        

        
        

        <li property="itemListElement" typeof="ListItem" class="">
            <a href="/ev3dev.github.io/docs/" property="item" typeof="WebPage">
                <span property="name">Documentation</span>
            </a>
            <meta property="position" content="1">
        </li>
        
    
        

        
        

        <li property="itemListElement" typeof="ListItem" class="">
            <a href="/ev3dev.github.io/docs/tutorials/" property="item" typeof="WebPage">
                <span property="name">Tutorials</span>
            </a>
            <meta property="position" content="2">
        </li>
        
    
        

        
        

        <li property="itemListElement" typeof="ListItem" class="active">
            <span href="/ev3dev.github.io/docs/tutorials/" property="item" typeof="WebPage">
                <span property="name">Getting Started with C</span>
            </span>
            <meta property="position" content="3">
        </li>
        
    
</ol>
    </div>
    
</div>
<hr />

<p class="alert alert-info"><span class="glyphicon glyphicon-info-sign " aria-hidden="true"></span>
If you’re looking to write programs that are more than simple test apps
or demos and are willing to try something a bit more involved, we
recommend following the
<a href="/ev3dev.github.io/docs/tutorials/using-docker-to-cross-compile/" class="alert-link">Using Docker to Cross-Compile</a>
tutorial instead of this one.</p>

<p class="lead">This tutorial walks you through writing a simple C program, compiling it on
your ev3dev device, and running it. We will assume that you have already
configured a means of connecting to your device from a PC.</p>

<p class="alert alert-warning"><span class="glyphicon glyphicon-alert " aria-hidden="true"></span>
Note that C is not a particularly friendly language, especially for beginners.
It would be recommended to use Python or another easier language.</p>

<p>For this tutorial, we will be using a text editor called <code class="highlighter-rouge">nano</code>. You can refer
to our <a href="/ev3dev.github.io/docs/tutorials/nano-cheat-sheet">nano cheat sheet</a> for information on
nano.</p>

<p><strong>Before you start, make sure that you have configured a network connection to
your ev3dev device and have opened an SSH connection to it.</strong></p>

<h2 id="background-on-c">Background on C</h2>

<p>To understand what you will be doing in this tutorial, you’ll first need to
understand the way that C programs are run. C is a “compiled” language; that
means that the code that you write must be converted into a different kind of
code that a computer understands before it can run. This is the job of the
<em>compiler</em>. The compiler is a program that takes your C code and converts it
into something that can be run. If you are familiar with Windows, the final
product is the equivalent of a <code class="highlighter-rouge">.exe</code> file.</p>

<p>On ev3dev, you will need to run the compiler over SSH to create the executable
file. Once you have the binary file, you can run it whenever you want from the
terminal or Brickman.</p>

<h2 id="installing-prerequisites">Installing prerequisites</h2>
<p>We need to install the compiler and some other tools. Execute the following
command to install them:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">sudo apt-get update
sudo apt-get install build-essential</code></pre></figure>

<h2 id="create-a-project-folder">Create a project folder</h2>
<p>We need a place to store the code that you’ll write. In the terminal, run the
following commands:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">mkdir c-demo
<span class="nb">cd </span>c-demo</code></pre></figure>

<h2 id="creating-a-hello-world-program">Creating a “Hello world” program</h2>
<p>The code that you write will live in its own file. Let’s reate a file called
<code class="highlighter-rouge">main.c</code> and open it in nano:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">nano main.c</code></pre></figure>

<p>Now paste the following code into the file (in many cases, you can
paste by right-clicking on the terminal window):</p>

<figure class="highlight"><pre><code class="language-c" data-lang="c"><span class="cp">#include &lt;stdio.h&gt;
</span><span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">"Hello world!</span><span class="se">\n</span><span class="s">"</span><span class="p">);</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span></code></pre></figure>

<p>Save the file by pressing <kbd>Ctrl</kbd>+<kbd>O</kbd> and exit the editor with
<kbd>Ctrl</kbd>+<kbd>X</kbd>.</p>

<h2 id="creating-a-makefile">Creating a “makefile”</h2>
<p>A makefile is a file that gives instructions on how your program should be
compiled. Makefiles can be very simple (as ours will be here) but it can get
more complicated if you have additional C source files or need to include other
libraries.</p>

<p>Create a file called <code class="highlighter-rouge">Makefile</code> and open it:</p>

<figure class="highlight"><pre><code class="language-sh" data-lang="sh">nano Makefile</code></pre></figure>

<p>Copy the following contents into the file:</p>

<figure class="highlight"><pre><code class="language-makefile" data-lang="makefile"><span class="nl">all</span><span class="o">:</span> <span class="nf">main.o</span>
	gcc main.o -o bin
<span class="nl">main.o</span><span class="o">:</span> <span class="nf">main.c</span>
	gcc -I . -c main.c
<span class="nl">clean</span><span class="o">:</span>
	rm -rf <span class="k">*</span>.o
	<span class="err">rm bin</span></code></pre></figure>

<p>When you paste the contents into nano, the indentation will likely disappear.
Move your cursor using the arrow keys to the beginning of the lines that are
indented above and press <kbd>Tab</kbd> to indent them.</p>

<h2 id="running-the-compiler">Running the compiler</h2>
<p>Now we’re ready to use the makefile to compile your code. Run the command
<code class="highlighter-rouge">make</code>. If it is successful, the output should look like this:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>gcc -I . -c main.c
gcc main.o -o bin
</code></pre>
</div>

<p>Now type <code class="highlighter-rouge">ls</code> and hit <kbd>Enter</kbd>. If the compilation did what it was
supposed to do, you should see an item called <code class="highlighter-rouge">bin</code>.</p>

<h2 id="executing-the-compiled-program">Executing the compiled program</h2>
<p>You can run your new file by typing <code class="highlighter-rouge">./bin</code> in the SSH terminal. You should
see the text <code class="highlighter-rouge">Hello world!</code> printed back. Congratulations! You have written
your first C program on ev3dev.</p>

<h2 id="making-changes">Making changes</h2>

<p>To make changes to your code, you can open the <code class="highlighter-rouge">main.c</code> file in nano and edit
it. You must then go through the “Running the compiler” step again.</p>

<p>To test your skills, try changing the text in the code to print something
other than “Hello world!”</p>

<h2 id="final-notes">Final notes</h2>
<p>If you want to use the motors, sensors, etc. of the EV3, you will need to either
use an existing C library (not C++) or manually read from and write to the
files that let you control devices. You can find a list of the known libraries
on <a href="/ev3dev.github.io/docs/programming-languages/">our programming languages page</a>.</p>





<h2> Authors </h2>


<div style="float: left; margin-right: 20px;"><!-- Provides unofficial GitHub card function for include.author variable -->




<!-- first function does not work and truncate function returns trailing "..." -->

<!-- this looks weird, but it was the only way I could figure out how to test
     that the first character of include.author is "@" -->

    <div class="user-card user-card-light" data-card-user="wasabifan"><div class="user-card-name">@wasabifan</div></div><br/>
</div>


    
    </div>
    
    <div id="footer">

        <div class="cclicense">
    
            <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">
                www.ev3dev.org (with the exception of the projects pages)
            </span>
            is licensed under
            <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">
                <img alt="Creative Commons License" style="border-width:0" src="https://licensebuttons.net/l/by-sa/4.0/80x15.png" />
            </a>.
            <br />
            You are free to copy the text and images, but please be courteous and acknowledge the source.
    
        </div>

    <br />
    <div class="container">
        <span>
            Project maintained by <a href="https://github.com/rhempel">Ralph Hempel</a>
            and <a href="https://github.com/dlech">David Lechner</a>, with help from the community
        </span>
    </div>
</div>

    

<!-- Custom styles -->
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/search.css">
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/page-content.css">
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/user-cards.css">
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/tabs.css">

<!-- Python code highlighting -->
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/pygments/monokai.css" />

<!-- 3rd-party libraries -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="/ev3dev.github.io/javascripts/bootstrap/bootstrap.min.js"></script>
<script src="/ev3dev.github.io/javascripts/jquery.getUrlParam.js"></script>
<script src="/ev3dev.github.io/javascripts/jquery.loadTemplate-1.4.4.min.js"></script>
<script src="/ev3dev.github.io/javascripts/respond.js"></script>
<script src="/ev3dev.github.io/javascripts/ua-parser.min.js"></script>
<script src="https://unpkg.com/imagesloaded@4.1/imagesloaded.pkgd.min.js"></script>


<!-- Caches data from requests to API endpoints -->
<script src="/ev3dev.github.io/javascripts/api-cache.js"></script>
<!-- Loads user-cards from GH API -->
<script src="/ev3dev.github.io/javascripts/cards.js"></script>
<!-- Configures special anchors to link to the most recent ev3dev release -->
<script src="/ev3dev.github.io/javascripts/releases.js"></script>
<!-- Responds to queries typed into the "Quick nav" box -->
<script src="/ev3dev.github.io/javascripts/search.js"></script>
<!-- Converts static descriptors of tab target content into live text and links -->
<script src="/ev3dev.github.io/javascripts/tabs.js"></script>
<!-- Adds classes and other styles to pages where hard-coded css can't be used -->
<script src="/ev3dev.github.io/javascripts/style-helpers.js"></script>
</body>
</html>

