
<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Ev3 Simple Goodies</title>
    
    <meta name="description" content="Helpful Bash scripts that test and demonstrate cool ev3dev functionality."/>
    
    <link rel="alternate" type="application/atom+xml" href="/ev3dev.github.io/news/atom.xml" title="Atom feed">
    <link rel="icon" href="/ev3dev.github.io/favicon.ico" />

    <!-- Bootstrap styles -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/ev3dev.github.io/stylesheets/bootstrap.css">

    <!-- Custom styles -->
    <link rel="stylesheet" href="/ev3dev.github.io/stylesheets/site-structure.css">
    <link rel="stylesheet" href="/ev3dev.github.io/stylesheets/landing-content.css">

    <!-- Template for search results -->
    <script type="text/html" id="search-result-template">
        <div class="search-result">
            <a data-href="href"><h4 data-content="title"></h4></a>
            <span data-content="breadcrumbs" class="search-result-breadcrumbs"></span>
            <span data-content="author" class="search-result-author"></span><br/>
        </div>
    </script>

    

    
        <!-- Google Analytics excluded: not an official site build -->
    
</head>


<body class="no-jumbotron ">

    <div id="header">
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container-fluid container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/ev3dev.github.io/">
                    <img id="brand-logo" src="/ev3dev.github.io/images/ev3dev_logo_white.png" alt="ev3dev logo" />
                </a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav" id="main-nav">
                    <li>
                        <a href="/ev3dev.github.io/docs/getting-started" title="Our Getting Started guide">Start Here</a>
                    </li>
                    <li>
                        <a href="/ev3dev.github.io/download" title="SD card images for ev3dev">Downloads</a>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" title="Documentation on using ev3dev">
                            Documentation
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/ev3dev.github.io/docs/tutorials">Tutorials</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/docs/programming-languages">Programming Languages</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/docs/networking">Networking</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/docs/driver-overview">Hardware Drivers</a>
                            </li>
                            <li role="separator" class="divider"></li>
                            <li>
                                <a href="/ev3dev.github.io/docs">More...</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="/ev3dev.github.io/support" title="Get Help with ev3dev">Support</a>
                    </li>
                    <li>
                        <a href="/ev3dev.github.io/news" title="ev3dev news">News</a>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                            Community
                            <span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="/ev3dev.github.io/contribute" title="How to contribute to ev3dev">Contribute</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/share" title="Share the word on ev3dev with others">Share</a>
                            </li>
                            <li>
                                <a href="/ev3dev.github.io/projects" title="Discover projects that use ev3dev">Project showcase</a>
                            </li>
                        </ul>
                    </li>
                </ul>
                <!-- items below float right, so appear in reverse order -->
                <div id="search-container">
                    <form class="navbar-form navbar-right dropdown" onsubmit="return false;">
                        <input type="text" id="search-input" class="form-control" placeholder="Quick nav" autocomplete="off" />
                        <div class="dropdown-menu" id="search-dropdown">
                            <div class="search-results-container" id="search-no-data-warning">
                                <span class="glyphicon glyphicon-alert heading-icon" aria-hidden="true"></span>
                                We were unable to retrieve search data from the
                                server. Make sure that JavaScript is enabled and
                                that nothing is blocking network access.
                            </div>

                            <div class="search-results-container" id="search-results-docs">
                                <h2>In docs</h2>
                                <div data-content="docs-results">
                                    <div class="no-results-note">No results</div>
                                </div>
                            </div>

                            <div class="search-results-container" id="search-results-projects">
                                <h2>In projects</h2>
                                <div data-content="project-results">
                                    <div class="no-results-note">No results</div>
                                </div>
                            </div>

                            <div class="search-results-container" id="search-results-news">
                                <h2>In news</h2>
                                <div data-content="news-results">
                                    <div class="no-results-note">No results</div>
                                </div>
                            </div>

                            <div class="search-results-container" id="search-results-misc">
                                <h2>In other pages</h2>
                                <div data-content="misc-results">
                                    <div class="no-results-note">No results</div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </nav>
</div>

    
    
    <div class="container">
        

<div class="page-header">
    
    <h1>
        Ev3 Simple Goodies
        <small></small>
    </h1>
</div>
    </div>
    
    
    <div class="container">
    
        <div class="row">
    <div class="col-lg-9">
        


        <h3 id="examples-of-bits-and-pieces-running-at-jessie-level">Examples of bits and pieces running at Jessie level</h3>

<p>These shell-scripts are located on my EV3-brick at <code class="highlighter-rouge">/usr/local/bin</code>
but with some simple edits you can place them where <strong>you</strong> want them.</p>

<ol>
  <li>Supporting script(s) used by other scripts
    <ul>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/asciicolors">asciicolor</a> Creates some variables to ease using ANSI colors in shell script. E.G. red blue etc.</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/bert_ev3dev_functions">bert_ev3dev_functions</a> Replaces asciicolor and adds some common functions.</li>
    </ul>
  </li>
  <li>Scripts related to managing the EV3-brick
    <ul>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/checkpower">checkpower</a> 
Add this script to a crontab to check for the battery voltage. On lower power the EV3-led on the left will blink green on lower voltage, then amber and eventually red (with one beep). Uses <a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/blinkvoltage">blinkvoltage</a></li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/showactivity">showactivity</a> Makes the right green led blink on I/O activity.</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/stopmotors">stopmotors</a> Well, stops all motors.</li>
    </ul>
  </li>
  <li>Scripts discovering sensors and / or motors
    <ul>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/blinkleds">blinkleds</a> Simply blink the EV3 leds a few times.</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/setled">setled</a> Script to set an EV3-led <strong>red</strong> / <strong>green</strong> / <strong>amber</strong> <strong>ON</strong> or <strong>OFF</strong> and set a trigger for it. Do not confuse with the <strong>setleds</strong> program to set keyboard leds.</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/showleds">showleds</a> Provides a very small display of the status of the EV3-leds.</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/showmotor">showmotor</a> Finds the tacho-motor number for attached motors. Displays many fields related to the motor(s). Tested with EV3 (large and mini) and NXT motor.</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/showpower">showpower</a> Shows various fields related to the EV3-power.</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/showsensors">showsensors</a> Show data about connected sensors. Only <em>regular</em> sensors that are recognized are reported, I assume I2C sensors are not yet supported by the script.</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/showsound">showsound</a> Shows a little info from the snd-legoev3 driver. (Not to be confused with the sound-sensor!)</li>
      <li><a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/testmotor">testmotor</a> Test one motor. Too simple script, only uses a fixed suffix on <code class="highlighter-rouge">/sys/class/tacho-motor/tacho-motor</code> The kernel takes the <em>next</em> number if a motor is plugged in. Algorithm in <a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/showmotor">showmotor</a> is connecting motor port to tacho-motor suffix. You can call testmotor with one parameter: the number of the motor. E.g. <code class="highlighter-rouge">testmotor 3</code></li>
    </ul>
  </li>
</ol>

<h3 id="have-your-ev3-report-the-ip-addresses-by-speach-after-boot">Have your EV3 report the IP-addresses by speach after boot</h3>
<p><strong>Starting at ev3dev image ev3dev-jessie-2014-10-07</strong></p>

<p>For this an update is needed to <code class="highlighter-rouge">/etc/rc.local</code></p>

<p>Add the next lines near the bottom of <code class="highlighter-rouge">/etc/rc.local</code>
But <strong>before</strong> the <code class="highlighter-rouge">exit 0</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>if [ -e /media/mmc_p1/tellIP ]; then
echo "Executing /media/mmc_p1/tellIP"
. /media/mmc_p1/tellIP
fi
</code></pre>
</div>

<p>and place the script <a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/tellIP"><code class="highlighter-rouge">tellIP</code></a>
in the directory: <code class="highlighter-rouge">/media/mmc_p1/</code></p>

<p><strong>OLDER ev3dev images (ev3dev-jessie-2014-10-07-12 and before)</strong></p>

<p>For this an update is needed to <code class="highlighter-rouge">/media/mmc_p1/ev3dev.rc.local</code></p>

<p>Add the next lines to the bottom of <code class="highlighter-rouge">/media/mmc_p1/ev3dev.rc.local</code></p>

<div class="highlighter-rouge"><pre class="highlight"><code>if [ -e /media/mmc_p1/tellIP ]; then
echo "Executing /media/mmc_p1/tellIP"
. /media/mmc_p1/tellIP
fi
</code></pre>
</div>

<p>and place the script <a href="https://github.com/BertLindeman/bert-ev3dev-examples/blob/master/tellIP"><code class="highlighter-rouge">tellIP</code></a>
in the same directory: <code class="highlighter-rouge">/media/mmc_p1/</code></p>

    </div>
    <div class="col-lg-3">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Project Info</h3>
            </div>
            <ul class="list-group">
                
                <li class="list-group-item">
                    Written with 




    Bourne shell script
<br />
                </li>
                
                
                
                
                <li class="list-group-item">
                    <a class="btn btn-primary" href="https://github.com/BertLindeman/bert-ev3dev-examples">Source code</a>
                </li>
                
                
                <li class="list-group-item">
                    
                    <!-- Provides unofficial GitHub card function for include.author variable -->




<!-- first function does not work and truncate function returns trailing "..." -->

<!-- this looks weird, but it was the only way I could figure out how to test
     that the first character of include.author is "@" -->

    <div class="user-card " data-card-user="BertLindeman"><div class="user-card-name">@BertLindeman</div></div><br/>

                    
                </li>
                
            </ul>
        </div>
    </div>
</div>
    
    </div>
    
    <div id="footer">

        <div class="cclicense">
    
            The contents of this page are property of the author(s) listed above.
            <br />
            Please contact the author(s) before reusing any content on this page.
    
        </div>

    <br />
    <div class="container">
        <span>
            Project maintained by <a href="https://github.com/rhempel">Ralph Hempel</a>
            and <a href="https://github.com/dlech">David Lechner</a>, with help from the community
        </span>
    </div>
</div>

    

<!-- Custom styles -->
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/search.css">
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/page-content.css">
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/user-cards.css">
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/tabs.css">

<!-- Python code highlighting -->
<link rel="stylesheet" href="/ev3dev.github.io/stylesheets/pygments/monokai.css" />

<!-- 3rd-party libraries -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
<script src="/ev3dev.github.io/javascripts/bootstrap/bootstrap.min.js"></script>
<script src="/ev3dev.github.io/javascripts/jquery.getUrlParam.js"></script>
<script src="/ev3dev.github.io/javascripts/jquery.loadTemplate-1.4.4.min.js"></script>
<script src="/ev3dev.github.io/javascripts/respond.js"></script>
<script src="/ev3dev.github.io/javascripts/ua-parser.min.js"></script>
<script src="https://unpkg.com/imagesloaded@4.1/imagesloaded.pkgd.min.js"></script>


<!-- Caches data from requests to API endpoints -->
<script src="/ev3dev.github.io/javascripts/api-cache.js"></script>
<!-- Loads user-cards from GH API -->
<script src="/ev3dev.github.io/javascripts/cards.js"></script>
<!-- Configures special anchors to link to the most recent ev3dev release -->
<script src="/ev3dev.github.io/javascripts/releases.js"></script>
<!-- Responds to queries typed into the "Quick nav" box -->
<script src="/ev3dev.github.io/javascripts/search.js"></script>
<!-- Converts static descriptors of tab target content into live text and links -->
<script src="/ev3dev.github.io/javascripts/tabs.js"></script>
<!-- Adds classes and other styles to pages where hard-coded css can't be used -->
<script src="/ev3dev.github.io/javascripts/style-helpers.js"></script>
</body>
</html>

